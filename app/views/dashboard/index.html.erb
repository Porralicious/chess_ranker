<div class="flex lg:flex-row md:flex-col justify-around m-4 w-full">

  <!-- Leaderboard -->
  <div class="bg-white shadow-md rounded-lg p-6">
    <h2 class="text-2xl font-bold mb-4">🏆 Leaderboard</h2>
    <div class="overflow-x-auto">
      <table class="min-w-full divide-y divide-gray-200">
        <thead class="bg-gray-50">
          <tr>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Rank</th>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Name</th>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Games Played</th>
          </tr>
        </thead>
        <tbody class="bg-white divide-y divide-gray-200">
          <% @leaderboard.each_with_index do |member, i| %>
            <% row_classes = case i
              when 0 then "bg-yellow-50 font-bold text-yellow-700"   # 🥇 Gold
              when 1 then "bg-gray-100 font-semibold text-gray-700"  # 🥈 Silver
              when 2 then "bg-orange-100 font-semibold text-orange-700" # 🥉 Bronze
              else "hover:bg-gray-50"
            end %>

            <tr class="<%= row_classes %>"
              onclick="window.location='<%= member_path(member) %>'"
              class="cursor-pointer hover:bg-gray-50 transition"
            >
              <td class="px-6 py-4 flex items-center space-x-2">
                <% if i == 0 %> 🥇 <% elsif i == 1 %> 🥈 <% elsif i == 2 %> 🥉 <% else %> <%= i+1 %> <% end %>
              </td>
              <td class="px-6 py-4"><%= member.name %> <%= member.surname %></td>
              <td class="px-6 py-4"><%= member.number_of_club_games_played %></td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>

  <div class="bg-white shadow-md rounded-lg p-6 h-fit ">
    <h2 class="text-2xl font-bold mb-4">🎮 Recent Matches</h2>
    <ul class="divide-y divide-gray-200">
      <% @recent_matches.each do |match| %>
        <li class="py-4 flex justify-between items-center hover:bg-gray-50 px-2 rounded">
          <div>
            <p class="font-semibold"><%= match.player_one.name %> vs <%= match.player_two.name %></p>
            <p class="text-sm text-gray-500">
              Winner: <%= match.winner&.name || "Draw" %>
            </p>
          </div>
          <span class="text-sm text-gray-400"><%= match.created_at.strftime("%b %d, %Y") %></span>
        </li>
      <% end %>
    </ul>
  </div>
</div>
